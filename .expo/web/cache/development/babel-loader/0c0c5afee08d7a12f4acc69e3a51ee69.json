{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { StatusBar } from \"expo-status-bar\";\nimport { useEffect, useState } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Item = function Item(itemData) {\n  return _jsxs(View, {\n    style: styles.item,\n    children: [_jsx(Image, {\n      style: styles.image,\n      source: {\n        uri: itemData['urlToImage']\n      }\n    }), _jsx(Text, {\n      style: styles.title,\n      children: itemData['title'] + '\\n\\n'\n    }), _jsx(Text, {\n      style: styles.subTitle,\n      children: itemData['publishedAt']\n    })]\n  });\n};\n\nvar renderItem = function renderItem(_ref) {\n  var item = _ref.item;\n  return Item(item);\n};\n\nexport default function App() {\n  var url = \"https://newsapi.org/v2/top-headlines?country=in&apiKey=5bd64f76020741b5b9abd6114877a79a\";\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      news = _useState2[0],\n      setNews = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showIndicator = _useState4[0],\n      setIndicator = _useState4[1];\n\n  var getNewsFromNewsAPI = function _callee() {\n    var responseFromAPI, jsonData, articles;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch(url));\n\n          case 3:\n            responseFromAPI = _context.sent;\n            console.log(\"response from API: \" + responseFromAPI);\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(responseFromAPI.json());\n\n          case 7:\n            jsonData = _context.sent;\n            articles = jsonData['articles'];\n            setNews(articles);\n            setIndicator(false);\n            _context.next = 16;\n            break;\n\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(\"Something went wrong: \" + _context.t0);\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 13]], Promise);\n  };\n\n  useEffect(function () {\n    getNewsFromNewsAPI();\n  });\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(StatusBar, {\n      style: \"auto\"\n    }), _jsx(View, {\n      style: styles.header,\n      children: _jsx(Text, {\n        style: styles.headerText,\n        children: \"NEWS\"\n      })\n    }), showIndicator ? _jsx(ActivityIndicator, {\n      style: styles.activityIndicator\n    }) : _jsx(FlatList, {\n      data: news,\n      renderItem: renderItem\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  background: {\n    backgroundColor: '#fae',\n    fontSize: 24,\n    marginBottom: 20\n  },\n  item: {\n    backgroundColor: '#DCDBDB2B',\n    padding: 10,\n    margin: 10,\n    width: Platform.OS === \"android\" ? \"95%\" : \"60%\",\n    alignSelf: 'center',\n    elevation: 1,\n    borderRadius: 10,\n    shadowColor: '#6E69692C',\n    shadowOffset: {\n      height: 6,\n      width: 4\n    }\n  },\n  title: {\n    fontSize: 15,\n    color: '#'\n  },\n  subTitle: {\n    fontSize: 12,\n    color: '#7C7373'\n  },\n  circle: {\n    height: 17,\n    width: 17,\n    borderRadius: 20,\n    backgroundColor: \"#8E8686\",\n    marginRight: 10\n  },\n  circleTitle: {\n    flex: 1,\n    flexDirection: \"row\"\n  },\n  button: {\n    borderRadius: 10,\n    height: 30,\n    width: 100,\n    backgroundColor: \"#6E696943\",\n    textAlign: \"center\",\n    justifyContent: 'center'\n  },\n  image: {\n    height: 400,\n    width: \"100%\",\n    borderRadius: 10\n  },\n  header: {\n    height: 80,\n    width: \"100%\",\n    backgroundColor: \"#D7A6E6\",\n    justifyContent: \"center\"\n  },\n  headerText: {\n    alignSelf: \"center\",\n    fontSize: 30,\n    fontWeight: \"bold\"\n  },\n  activityIndicator: {\n    justifyContent: \"center\"\n  }\n});","map":{"version":3,"names":["StatusBar","useEffect","useState","Item","itemData","styles","item","image","uri","title","subTitle","renderItem","App","url","news","setNews","showIndicator","setIndicator","getNewsFromNewsAPI","fetch","responseFromAPI","console","log","json","jsonData","articles","error","container","header","headerText","activityIndicator","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","background","fontSize","marginBottom","padding","margin","width","Platform","OS","alignSelf","elevation","borderRadius","shadowColor","shadowOffset","height","color","circle","marginRight","circleTitle","flexDirection","button","textAlign","fontWeight"],"sources":["D:/Users/Documents/react_native/Application-development/myapp/src/functional-component/tutorials/news-api.tsx"],"sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport { Component, ReactNode, useEffect, useState } from \"react\";\r\nimport { Button, FlatList, StyleSheet, Text, TouchableHighlight, View, Image, Platform, ActivityIndicator } from 'react-native';\r\n\r\nconst Item = (itemData: any) => (\r\n  <View style={styles.item}>\r\n    <Image style={styles.image} source={{uri: itemData['urlToImage']}}></Image>\r\n    <Text style={styles.title}>{itemData['title']+'\\n\\n'}</Text>\r\n    <Text style={styles.subTitle}>{itemData['publishedAt']}</Text>\r\n    \r\n  </View>\r\n);\r\n\r\nconst renderItem = ({item}: any) => (Item(item));\r\n\r\nexport default function App() {\r\n\r\n  const url = \"https://newsapi.org/v2/top-headlines?country=in&apiKey=5bd64f76020741b5b9abd6114877a79a\";\r\n  const [news, setNews] = useState([]);\r\n  const [showIndicator, setIndicator] = useState(true);\r\n\r\n  // It runs in background\r\n  const getNewsFromNewsAPI = async () => {\r\n    try {\r\n      const responseFromAPI = await fetch(url)\r\n      // const responseFromAPI = await fetch(url).then(\r\n      //   res=> res.json()\r\n      // )\r\n\r\n      // fetch() => send request and get response\r\n      console.log(\"response from API: \"+responseFromAPI);\r\n\r\n      const jsonData = await responseFromAPI.json();\r\n      // console.log(jsonData['articles'])\r\n      let articles = jsonData['articles'];\r\n      setNews(articles);\r\n      setIndicator(false);\r\n    }\r\n    catch(error) {\r\n      console.error(\"Something went wrong: \"+error)\r\n    }\r\n\r\n  } \r\n\r\n  useEffect(() => {getNewsFromNewsAPI()});\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <StatusBar style=\"auto\" />\r\n      <View style={styles.header}><Text style={styles.headerText}>NEWS</Text></View>\r\n      {/* <Text style={styles.textStyle}>Welcome</Text> */}\r\n      {/* renderItem is an algo applied on array */}\r\n      {showIndicator ? <ActivityIndicator style={styles.activityIndicator} /> : <FlatList data={news} renderItem={renderItem}></FlatList>}\r\n      {/* <Text>Welcome to news app</Text> */}\r\n      </View>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    // padding: 10\r\n    // margin: 10\r\n  },\r\n\r\n  background: {\r\n    backgroundColor: '#fae',\r\n    fontSize: 24,\r\n    marginBottom: 20,\r\n  },\r\n\r\n  item: {\r\n    backgroundColor: '#DCDBDB2B',\r\n    padding: 10,\r\n    margin: 10,\r\n    width: Platform.OS === \"android\" ? \"95%\": \"60%\",\r\n    alignSelf: 'center',\r\n    elevation: 1,\r\n    borderRadius: 10,\r\n    shadowColor: '#6E69692C',\r\n    shadowOffset: {height: 6, width: 4},\r\n  },\r\n\r\n  title: {\r\n    fontSize: 15,\r\n    color: '#',\r\n  },\r\n\r\n  subTitle: {\r\n    fontSize: 12,\r\n    color: '#7C7373',\r\n  },\r\n\r\n  circle: {\r\n    height: 17,\r\n    width: 17,\r\n    borderRadius: 20,\r\n    backgroundColor: \"#8E8686\",\r\n    marginRight: 10\r\n  },\r\n\r\n  circleTitle: {\r\n    flex: 1,\r\n    flexDirection: \"row\",\r\n  },\r\n\r\n  button: {\r\n    borderRadius: 10,\r\n    height: 30,\r\n    width: 100,\r\n    backgroundColor: \"#6E696943\",\r\n    textAlign: \"center\",\r\n    justifyContent: 'center',\r\n  },\r\n\r\n  image: {\r\n    height: 400,\r\n    width: \"100%\",\r\n    borderRadius: 10,\r\n  },\r\n\r\n  header: {\r\n    height: 80,\r\n    width: \"100%\",\r\n    backgroundColor: \"#D7A6E6\",\r\n    justifyContent: \"center\"\r\n  },\r\n\r\n  headerText: {\r\n    alignSelf: \"center\",\r\n    fontSize: 30,\r\n    fontWeight: \"bold\",\r\n  }, \r\n\r\n  activityIndicator: {\r\n    justifyContent: \"center\",\r\n  },\r\n});\r\n\r\n\r\n// Assignment\r\n\r\n// Open weather data\r\n// find ATM near me\r\n// google restaurant API - Nearby Search\r\n// book flights -> flight reservatoin API\r\n// IRCTS API"],"mappings":"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"},"metadata":{},"sourceType":"module"}